!function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var p=new Error("Cannot find module '"+s+"'");throw p.code="MODULE_NOT_FOUND",p}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){return r(e[s][1][t]||t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}}()({1:[function(t,e,n){"use strict";var i=c(t("canvas-sketch")),r=c(t("./premitives/Line")),o=c(t("./premitives/Shape")),s=c(t("./utils/arrayFrom")),a=c(t("./utils/getImageData"));function c(t){return t&&t.__esModule?t:{default:t}}(0,i.default)(({width:t,height:e})=>{const n=(0,s.default)(()=>new r.default,500),i=[];return(0,a.default)({imageUrl:"assets/text.png",precision:150}).then(t=>{for(let e=0;e<t.length;e++)for(let n=0;n<t[e].length;n++)t[e][n]<255&&Math.random()>.3&&i.push(new o.default(3*(e-75),3*(n-75)))}),({context:r,playhead:o})=>{r.fillStyle="#000",r.clearRect(0,0,t,e),r.fillRect(0,0,t,e),r.fillStyle="#fff",r.save(),r.translate(t/2,e/2),n.forEach(t=>{r.save(),r.rotate(t.angle),t.draw(r,o),r.restore()}),i.forEach(t=>{t.draw(r,o)}),r.restore()}},{dimensions:[1280,720],duration:4,animate:!0})},{"./premitives/Line":3,"./premitives/Shape":4,"./utils/arrayFrom":5,"./utils/getImageData":8,"canvas-sketch":2}],2:[function(t,e,n){(function(t){!function(t,i){"object"==typeof n&&void 0!==e?e.exports=i():"function"==typeof define&&define.amd?define(i):t.canvasSketch=i()}(this,function(){var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var r=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,r){for(var o,s,a=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var p in o=Object(arguments[c]))n.call(o,p)&&(a[p]=o[p]);if(e){s=e(o);for(var u=0;u<s.length;u++)i.call(o,s[u])&&(a[s[u]]=o[s[u]])}}return a},o="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};var s=o.performance&&o.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date},a=function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then};var c=function(t){return"object"==typeof t&&null!==t},p=function(t){if(null==t)return!1;var e=Object(t);return e===e.window};var u=function(t){return!(!c(t)||!p(window)||"function"!=typeof window.Node)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName};function l(){return"undefined"!=typeof window&&window["canvas-sketch-cli"]}function f(){for(var t=arguments,e=0;e<arguments.length;e++)if(null!=t[e])return t[e]}function h(){return"undefined"!=typeof document}var d,m=Object.prototype.toString,y=function(t){var e=m.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===m.call(t.callee)),n};if(!Object.keys){var g=Object.prototype.hasOwnProperty,v=Object.prototype.toString,w=y,b=Object.prototype.propertyIsEnumerable,x=!b.call({toString:null},"toString"),_=b.call(function(){},"prototype"),j=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],k=function(t){var e=t.constructor;return e&&e.prototype===t},O={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},S=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!O["$"+t]&&g.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{k(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();d=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===v.call(t),i=w(t),r=e&&"[object String]"===v.call(t),o=[];if(!e&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var s=_&&n;if(r&&t.length>0&&!g.call(t,0))for(var a=0;a<t.length;++a)o.push(String(a));if(i&&t.length>0)for(var c=0;c<t.length;++c)o.push(String(c));else for(var p in t)s&&"prototype"===p||!g.call(t,p)||o.push(String(p));if(x)for(var u=function(t){if("undefined"==typeof window||!S)return k(t);try{return k(t)}catch(t){return!1}}(t),l=0;l<j.length;++l)u&&"constructor"===j[l]||!g.call(t,j[l])||o.push(j[l]);return o}}var M=Array.prototype.slice,E=Object.keys,P=E?function(t){return E(t)}:d,T=Object.keys;P.shim=function(){Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return y(t)?T(M.call(t)):T(t)}):Object.keys=P;return Object.keys||P};var F=P,R="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,C=Object.prototype.toString,D=function(t){return!(R&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===C.call(t)},A=function(t){return!!D(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==C.call(t)&&"[object Function]"===C.call(t.callee)},I=function(){return D(arguments)}();D.isLegacyArguments=A;var N=I?D:A,H=function(t){return t!=t},L=function(t,e){return 0===t&&0===e?1/t==1/e:t===e||!(!H(t)||!H(e))},z=Array.prototype.slice,$=Object.prototype.toString,U=(Function.prototype.bind||function(t){var e=this;if("function"!=typeof e||"[object Function]"!==$.call(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n,i=z.call(arguments,1),r=Math.max(0,e.length-i.length),o=[],s=0;s<r;s++)o.push("$"+s);if(n=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof n){var r=e.apply(this,i.concat(z.call(arguments)));return Object(r)===r?r:this}return e.apply(t,i.concat(z.call(arguments)))}),e.prototype){var a=function(){};a.prototype=e.prototype,n.prototype=new a,a.prototype=null}return n}).call(Function.call,Object.prototype.hasOwnProperty),W=RegExp.prototype.exec,q=Object.getOwnPropertyDescriptor,B=Object.prototype.toString,Y="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,K=function(t){if(!t||"object"!=typeof t)return!1;if(!Y)return"[object RegExp]"===B.call(t);var e=q(t,"lastIndex");return!(!e||!U(e,"value"))&&function(t){try{var e=t.lastIndex;return t.lastIndex=0,W.call(t),!0}catch(t){return!1}finally{t.lastIndex=e}}(t)},Q="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),G=Object.prototype.toString,J=Array.prototype.concat,Z=Object.defineProperty,V=Z&&function(){var t={};try{for(var e in Z(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),X=function(t,e,n,i){var r;e in t&&("function"!=typeof(r=i)||"[object Function]"!==G.call(r)||!i())||(V?Z(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},tt=function(t,e){var n=arguments.length>2?arguments[2]:{},i=F(e);Q&&(i=J.call(i,Object.getOwnPropertySymbols(e)));for(var r=0;r<i.length;r+=1)X(t,i[r],e[i[r]],n[i[r]])};tt.supportsDescriptors=!!V;var et=tt,nt=Object,it=TypeError,rt=function(){if(null!=this&&this!==nt(this))throw new it("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t},ot=et.supportsDescriptors,st=Object.getOwnPropertyDescriptor,at=TypeError,ct=function(){if(!ot)throw new at("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=st(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof/a/.dotAll)return t.get}return rt},pt=et.supportsDescriptors,ut=Object.getOwnPropertyDescriptor,lt=Object.defineProperty,ft=TypeError,ht=Object.getPrototypeOf,dt=/a/,mt=Function.call.bind(rt);et(mt,{getPolyfill:ct,implementation:rt,shim:function(){if(!pt||!ht)throw new ft("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=ct(),e=ht(dt),n=ut(e,"flags");return n&&n.get===t||lt(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}});var yt=mt,gt=Date.prototype.getDay,vt=Object.prototype.toString,wt="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,bt=function(t){return"object"==typeof t&&null!==t&&(wt?function(t){try{return gt.call(t),!0}catch(t){return!1}}(t):"[object Date]"===vt.call(t))},xt=Date.prototype.getTime;function _t(t,e,n){var i=n||{};return!(i.strict?!L(t,e):t!==e)||(!t||!e||"object"!=typeof t&&"object"!=typeof e?i.strict?L(t,e):t==e:function(t,e,n){var i,r;if(typeof t!=typeof e)return!1;if(jt(t)||jt(e))return!1;if(t.prototype!==e.prototype)return!1;if(N(t)!==N(e))return!1;var o=K(t),s=K(e);if(o!==s)return!1;if(o||s)return t.source===e.source&&yt(t)===yt(e);if(bt(t)&&bt(e))return xt.call(t)===xt.call(e);var a=kt(t),c=kt(e);if(a!==c)return!1;if(a||c){if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}if(typeof t!=typeof e)return!1;try{var p=F(t),u=F(e)}catch(t){return!1}if(p.length!==u.length)return!1;for(p.sort(),u.sort(),i=p.length-1;i>=0;i--)if(p[i]!=u[i])return!1;for(i=p.length-1;i>=0;i--)if(!_t(t[r=p[i]],e[r],n))return!1;return!0}(t,e,i))}function jt(t){return null==t}function kt(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}var Ot,St,Mt=_t,Et=(function(t,e){!function(e){var n,i,r,o=(n=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,i=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,r=/[^-+\dA-Z]/g,function(t,e,a,c){if(1!==arguments.length||"string"!==(null===(p=t)?"null":void 0===p?"undefined":"object"!=typeof p?typeof p:Array.isArray(p)?"array":{}.toString.call(p).slice(8,-1).toLowerCase())||/\d/.test(t)||(e=t,t=void 0),(t=t||new Date)instanceof Date||(t=new Date(t)),isNaN(t))throw TypeError("Invalid date");var p,u=(e=String(o.masks[e]||e||o.masks.default)).slice(0,4);"UTC:"!==u&&"GMT:"!==u||(e=e.slice(4),a=!0,"GMT:"===u&&(c=!0));var l=a?"getUTC":"get",f=t[l+"Date"](),h=t[l+"Day"](),d=t[l+"Month"](),m=t[l+"FullYear"](),y=t[l+"Hours"](),g=t[l+"Minutes"](),v=t[l+"Seconds"](),w=t[l+"Milliseconds"](),b=a?0:t.getTimezoneOffset(),x=function(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);var n=new Date(e.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var i=e.getTimezoneOffset()-n.getTimezoneOffset();return e.setHours(e.getHours()-i),1+Math.floor((e-n)/6048e5)}(t),_=function(t){var e=t.getDay();return 0===e&&(e=7),e}(t),j={d:f,dd:s(f),ddd:o.i18n.dayNames[h],dddd:o.i18n.dayNames[h+7],m:d+1,mm:s(d+1),mmm:o.i18n.monthNames[d],mmmm:o.i18n.monthNames[d+12],yy:String(m).slice(2),yyyy:m,h:y%12||12,hh:s(y%12||12),H:y,HH:s(y),M:g,MM:s(g),s:v,ss:s(v),l:s(w,3),L:s(Math.round(w/10)),t:y<12?o.i18n.timeNames[0]:o.i18n.timeNames[1],tt:y<12?o.i18n.timeNames[2]:o.i18n.timeNames[3],T:y<12?o.i18n.timeNames[4]:o.i18n.timeNames[5],TT:y<12?o.i18n.timeNames[6]:o.i18n.timeNames[7],Z:c?"GMT":a?"UTC":(String(t).match(i)||[""]).pop().replace(r,""),o:(b>0?"-":"+")+s(100*Math.floor(Math.abs(b)/60)+Math.abs(b)%60,4),S:["th","st","nd","rd"][f%10>3?0:(f%100-f%10!=10)*f%10],W:x,N:_};return e.replace(n,function(t){return t in j?j[t]:t.slice(1,t.length-1)})});function s(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}o.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},o.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},t.exports=o}()}(Ot={exports:{}},Ot.exports),Ot.exports),Pt="",Tt=function(t,e){if("string"!=typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var n=t.length*e;if(St!==t||void 0===St)St=t,Pt="";else if(Pt.length>=n)return Pt.substr(0,n);for(;n>Pt.length&&e>1;)1&e&&(Pt+=t),e>>=1,t+=t;return Pt=(Pt+=t).substr(0,n)};var Ft,Rt=function(t,e,n){return t=t.toString(),void 0===e?t:(n=0===n?"0":n?n.toString():" ",Tt(n,e-t.length)+t)},Ct=function(){},Dt={extension:"",prefix:"",suffix:""},At=["image/png","image/jpeg","image/webp"];function It(t,e){return void 0===e&&(e={}),new Promise(function(n,i){e=r({},Dt,e);var o=Lt(Object.assign({},e,{extension:"",frame:void 0})),s=t?"streamStart":"streamEnd",a=l();return a&&a.output&&"function"==typeof a[s]?a[s](r({},e,{filename:o})).then(function(t){return n(t)}):n({filename:o,client:!1})})}function Nt(t,e){return void 0===e&&(e={}),function(t){return new Promise(function(e){var n=t.indexOf(",");if(-1!==n){for(var i=t.slice(n+1),r=window.atob(i),o=t.slice(0,n),s=/data:([^;]+)/.exec(o),a=(s?s[1]:"")||void 0,c=new ArrayBuffer(r.length),p=new Uint8Array(c),u=0;u<r.length;u++)p[u]=r.charCodeAt(u);e(new window.Blob([c],{type:a}))}else e(new window.Blob)})}(t).then(function(t){return Ht(t,e)})}function Ht(t,e){return void 0===e&&(e={}),new Promise(function(n){var i=(e=r({},Dt,e)).filename,o=l();if(o&&"function"==typeof o.saveBlob&&o.output)return o.saveBlob(t,r({},e,{filename:i})).then(function(t){return n(t)});Ft||((Ft=document.createElement("a")).style.visibility="hidden",Ft.target="_blank"),Ft.download=i,Ft.href=window.URL.createObjectURL(t),document.body.appendChild(Ft),Ft.onclick=function(){Ft.onclick=Ct,setTimeout(function(){window.URL.revokeObjectURL(t),Ft.parentElement&&Ft.parentElement.removeChild(Ft),Ft.removeAttribute("href"),n({filename:i,client:!1})})},Ft.click()})}function Lt(t){if(void 0===t&&(t={}),"function"==typeof(t=r({},t)).file)return t.file(t);if(t.file)return t.file;var e,n=null,i="";("string"==typeof t.extension&&(i=t.extension),"number"==typeof t.frame)&&(e="number"==typeof t.totalFrames?t.totalFrames:Math.max(1e3,t.frame),n=Rt(String(t.frame),String(e).length,"0"));var o=isFinite(t.totalLayers)&&isFinite(t.layer)&&t.totalLayers>1?""+t.layer:"";return null!=n?[o,n].filter(Boolean).join("-")+i:[t.prefix,t.name||t.timeStamp,o,t.hash,t.suffix].filter(Boolean).join("-")+i}var zt={dimension:"dimensions",animated:"animate",animating:"animate",unit:"units",P5:"p5",pixellated:"pixelated",looping:"loop",pixelPerInch:"pixels"},$t=["dimensions","units","pixelsPerInch","orientation","scaleToFit","scaleToView","bleed","pixelRatio","exportPixelRatio","maxPixelRatio","scaleContext","resizeCanvas","styleCanvas","canvas","context","attributes","parent","file","name","prefix","suffix","animate","playing","loop","duration","totalFrames","fps","playbackRate","timeScale","frame","time","flush","pixelated","hotkeys","p5","id","scaleToFitPadding","data","params","encoding","encodingQuality"],Ut=function(t){Object.keys(t).forEach(function(t){t in zt?console.warn('[canvas-sketch] Could not recognize the setting "'+t+'", did you mean "'+zt[t]+'"?'):$t.includes(t)||console.warn('[canvas-sketch] Could not recognize the setting "'+t+'"')})};var Wt=[["postcard",101.6,152.4],["poster-small",280,430],["poster",460,610],["poster-large",610,910],["business-card",50.8,88.9],["2r",64,89],["3r",89,127],["4r",102,152],["5r",127,178],["6r",152,203],["8r",203,254],["10r",254,305],["11r",279,356],["12r",305,381],["a0",841,1189],["a1",594,841],["a2",420,594],["a3",297,420],["a4",210,297],["a5",148,210],["a6",105,148],["a7",74,105],["a8",52,74],["a9",37,52],["a10",26,37],["2a0",1189,1682],["4a0",1682,2378],["b0",1e3,1414],["b1",707,1e3],["b1+",720,1020],["b2",500,707],["b2+",520,720],["b3",353,500],["b4",250,353],["b5",176,250],["b6",125,176],["b7",88,125],["b8",62,88],["b9",44,62],["b10",31,44],["b11",22,32],["b12",16,22],["c0",917,1297],["c1",648,917],["c2",458,648],["c3",324,458],["c4",229,324],["c5",162,229],["c6",114,162],["c7",81,114],["c8",57,81],["c9",40,57],["c10",28,40],["c11",22,32],["c12",16,22],["half-letter",5.5,8.5,"in"],["letter",8.5,11,"in"],["legal",8.5,14,"in"],["junior-legal",5,8,"in"],["ledger",11,17,"in"],["tabloid",11,17,"in"],["ansi-a",8.5,11,"in"],["ansi-b",11,17,"in"],["ansi-c",17,22,"in"],["ansi-d",22,34,"in"],["ansi-e",34,44,"in"],["arch-a",9,12,"in"],["arch-b",12,18,"in"],["arch-c",18,24,"in"],["arch-d",24,36,"in"],["arch-e",36,48,"in"],["arch-e1",30,42,"in"],["arch-e2",26,38,"in"],["arch-e3",27,39,"in"]].reduce(function(t,e){var n={units:e[3]||"mm",dimensions:[e[1],e[2]]};return t[e[0]]=n,t[e[0].replace(/-/g," ")]=n,t},{}),qt=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},Bt=["mm","cm","m","pc","pt","in","ft","px"],Yt={m:{system:"metric",factor:1},cm:{system:"metric",factor:.01},mm:{system:"metric",factor:.001},pt:{system:"imperial",factor:1/72},pc:{system:"imperial",factor:1/6},in:{system:"imperial",factor:1},ft:{system:"imperial",factor:12}};const Kt={metric:{unit:"m",ratio:1/.0254},imperial:{unit:"in",ratio:.0254}};var Qt=function(t,e,n,i){if("number"!=typeof t||!isFinite(t))throw new Error("Value must be a finite number");if(!e||!n)throw new Error("Must specify from and to units");var r=qt((i=i||{}).pixelsPerInch,96),o=i.precision,s=!1!==i.roundPixel;if(e=e.toLowerCase(),n=n.toLowerCase(),-1===Bt.indexOf(e))throw new Error('Invalid from unit "'+e+'", must be one of: '+Bt.join(", "));if(-1===Bt.indexOf(n))throw new Error('Invalid from unit "'+n+'", must be one of: '+Bt.join(", "));if(e===n)return t;var a=1,c=1,p=!1;"px"===e&&(c=1/r,e="in"),"px"===n&&(p=!0,a=r,n="in");var u=Yt[e],l=Yt[n],f=t*u.factor*c;u.system!==l.system&&(f*=Kt[u.system].ratio);var h=f/l.factor*a;return p&&s?h=Math.round(h):"number"==typeof o&&isFinite(o)&&(h=function(t,e){return Number(Math.round(t+"e"+e)+"e-"+e)}(h,o)),h};function Gt(t,e,n,i){return void 0===e&&(e="px"),void 0===n&&(n="px"),void 0===i&&(i=72),Qt(t,e,n,{pixelsPerInch:i,precision:4,roundPixel:!0})}function Jt(t,e){var n,i,r,o,s,a,c=h(),p=e.dimensions,u=function(t){return!(!t.dimensions||"string"!=typeof t.dimensions&&!(Array.isArray(t.dimensions)&&t.dimensions.length>=2))}(e),l=t.exporting,d=!!u&&!1!==e.scaleToFit,m=!(!l&&u)||e.scaleToView;c||(d=m=!1);var y,g,v=e.units,w="number"==typeof e.pixelsPerInch&&isFinite(e.pixelsPerInch)?e.pixelsPerInch:72,b=f(e.bleed,0),x=c?window.devicePixelRatio:1,_=m?x:1;"number"==typeof e.pixelRatio&&isFinite(e.pixelRatio)?g=f(e.exportPixelRatio,y=e.pixelRatio):u?(y=_,g=f(e.exportPixelRatio,1)):g=f(e.exportPixelRatio,y=x),"number"==typeof e.maxPixelRatio&&isFinite(e.maxPixelRatio)&&(y=Math.min(e.maxPixelRatio,y)),l&&(y=g);var j,k,O=function(t,e){if(!h())return[300,150];var n=e.parent||window;if(n===window||n===document||n===document.body)return[window.innerWidth,window.innerHeight];var i=n.getBoundingClientRect();return[i.width,i.height]}(0,e),S=O[0],M=O[1];if(u){var E=function(t,e,n){if(void 0===e&&(e="px"),void 0===n&&(n=72),"string"==typeof t){var i=t.toLowerCase();if(!(i in Wt))throw new Error('The dimension preset "'+t+'" is not supported or could not be found; try using a4, a3, postcard, letter, etc.');var r=Wt[i];return r.dimensions.map(function(t){return Gt(t,r.units,e,n)})}return t}(p,v,w),P=Math.max(E[0],E[1]),T=Math.min(E[0],E[1]);if(e.orientation){var F="landscape"===e.orientation;n=F?P:T,i=F?T:P}else n=E[0],i=E[1];j=n,k=i,n+=2*b,i+=2*b}else j=n=S,k=i=M;var R=n,C=i;if(u&&v&&(R=Gt(n,v,"px",w),C=Gt(i,v,"px",w)),r=Math.round(R),o=Math.round(C),d&&!l&&u){var D=n/i,A=S/M,I=f(e.scaleToFitPadding,40),N=Math.round(S-2*I),H=Math.round(M-2*I);(r>N||o>H)&&(A>D?(o=H,r=Math.round(o*D)):(r=N,o=Math.round(r/D)))}return{bleed:b,pixelRatio:y,width:n,height:i,dimensions:[n,i],units:v||"px",scaleX:(s=m?Math.round(y*r):Math.round(y*R))/n,scaleY:(a=m?Math.round(y*o):Math.round(y*C))/i,pixelsPerInch:w,viewportWidth:m?Math.round(r):Math.round(R),viewportHeight:m?Math.round(o):Math.round(C),canvasWidth:s,canvasHeight:a,trimWidth:j,trimHeight:k,styleWidth:r,styleHeight:o}}Qt.units=Bt;var Zt=function(t,e){if("string"!=typeof t)throw new TypeError("must specify type string");if(e=e||{},"undefined"==typeof document&&!e.canvas)return null;var n=e.canvas||document.createElement("canvas");"number"==typeof e.width&&(n.width=e.width);"number"==typeof e.height&&(n.height=e.height);var i,r=e;try{var o=[t];0===t.indexOf("webgl")&&o.push("experimental-"+t);for(var s=0;s<o.length;s++)if(i=n.getContext(o[s],r))return i}catch(t){i=null}return i||null};function Vt(t){var e,n;void 0===t&&(t={});var i=!1;if(!1!==t.canvas){if(!(e=t.context)||"string"==typeof e){var o=t.canvas;o||(o=function(){if(!h())throw new Error("It appears you are runing from Node.js or a non-browser environment. Try passing in an existing { canvas } interface instead.");return document.createElement("canvas")}(),i=!0);var s=e||"2d";if("function"!=typeof o.getContext)throw new Error("The specified { canvas } element does not have a getContext() function, maybe it is not a <canvas> tag?");if(!(e=Zt(s,r({},t.attributes,{canvas:o}))))throw new Error("Failed at canvas.getContext('"+s+"') - the browser may not support this context, or a different context may already be in use with this canvas.")}if(n=e.canvas,t.canvas&&n!==t.canvas)throw new Error("The { canvas } and { context } settings must point to the same underlying canvas element");t.pixelated&&(e.imageSmoothingEnabled=!1,e.mozImageSmoothingEnabled=!1,e.oImageSmoothingEnabled=!1,e.webkitImageSmoothingEnabled=!1,e.msImageSmoothingEnabled=!1,n.style["image-rendering"]="pixelated")}return{canvas:n,context:e,ownsCanvas:i}}var Xt=function(){var t=this;this._settings={},this._props={},this._sketch=void 0,this._raf=null,this._lastRedrawResult=void 0,this._isP5Resizing=!1,this._keyboardShortcuts=function(t){void 0===t&&(t={});var e=function(e){if(t.enabled()){var n=l();83!==e.keyCode||e.altKey||!e.metaKey&&!e.ctrlKey?32===e.keyCode?t.togglePlay(e):n&&!e.altKey&&75===e.keyCode&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),t.commit(e)):(e.preventDefault(),t.save(e))}};return{attach:function(){window.addEventListener("keydown",e)},detach:function(){window.removeEventListener("keydown",e)}}}({enabled:function(){return!1!==t.settings.hotkeys},save:function(e){e.shiftKey?t.props.recording?(t.endRecord(),t.run()):t.record():t.props.recording||t.exportFrame()},togglePlay:function(){t.props.playing?t.pause():t.play()},commit:function(e){t.exportFrame({commit:!0})}}),this._animateHandler=function(){return t.animate()},this._resizeHandler=function(){t.resize()&&t.render()}},te={sketch:{configurable:!0},settings:{configurable:!0},props:{configurable:!0}};te.sketch.get=function(){return this._sketch},te.settings.get=function(){return this._settings},te.props.get=function(){return this._props},Xt.prototype._computePlayhead=function(t,e){return"number"==typeof e&&isFinite(e)?t/e:0},Xt.prototype._computeFrame=function(t,e,n,i){return isFinite(n)&&n>1?Math.floor(t*(n-1)):Math.floor(i*e)},Xt.prototype._computeCurrentFrame=function(){return this._computeFrame(this.props.playhead,this.props.time,this.props.totalFrames,this.props.fps)},Xt.prototype._getSizeProps=function(){var t=this.props;return{width:t.width,height:t.height,pixelRatio:t.pixelRatio,canvasWidth:t.canvasWidth,canvasHeight:t.canvasHeight,viewportWidth:t.viewportWidth,viewportHeight:t.viewportHeight}},Xt.prototype.run=function(){if(!this.sketch)throw new Error("should wait until sketch is loaded before trying to play()");return!1!==this.settings.playing&&this.play(),"function"==typeof this.sketch.dispose&&console.warn("In canvas-sketch@0.0.23 the dispose() event has been renamed to unload()"),this.props.started||(this._signalBegin(),this.props.started=!0),this.tick(),this.render(),this},Xt.prototype.play=function(){var t=this.settings.animate;"animation"in this.settings&&(t=!0,console.warn("[canvas-sketch] { animation } has been renamed to { animate }")),t&&(h()?this.props.playing||(this.props.started||(this._signalBegin(),this.props.started=!0),this.props.playing=!0,null!=this._raf&&window.cancelAnimationFrame(this._raf),this._lastTime=s(),this._raf=window.requestAnimationFrame(this._animateHandler)):console.error("[canvas-sketch] WARN: Using { animate } in Node.js is not yet supported"))},Xt.prototype.pause=function(){this.props.recording&&this.endRecord(),this.props.playing=!1,null!=this._raf&&h()&&window.cancelAnimationFrame(this._raf)},Xt.prototype.togglePlay=function(){this.props.playing?this.pause():this.play()},Xt.prototype.stop=function(){this.pause(),this.props.frame=0,this.props.playhead=0,this.props.time=0,this.props.deltaTime=0,this.props.started=!1,this.render()},Xt.prototype.record=function(){var t=this;if(!this.props.recording)if(h()){this.stop(),this.props.playing=!0,this.props.recording=!0;var e=this._createExportOptions({sequence:!0}),n=1/this.props.fps;null!=this._raf&&window.cancelAnimationFrame(this._raf);var i,r=function(){return t.props.recording?(t.props.deltaTime=n,t.tick(),t.exportFrame(e).then(function(){t.props.recording&&(t.props.deltaTime=0,t.props.frame++,t.props.frame<t.props.totalFrames?(t.props.time+=n,t.props.playhead=t._computePlayhead(t.props.time,t.props.duration),t._raf=window.requestAnimationFrame(r)):(console.log("Finished recording"),t._signalEnd(),t.endRecord(),t.stop(),t.run()))})):Promise.resolve()};this.props.started||(this._signalBegin(),this.props.started=!0),this.sketch&&"function"==typeof this.sketch.beginRecord&&this._wrapContextScale(function(e){return t.sketch.beginRecord(e)}),(i=e,void 0===i&&(i={}),It(!0,i)).catch(function(t){console.error(t)}).then(function(e){t._raf=window.requestAnimationFrame(r)})}else console.error("[canvas-sketch] WARN: Recording from Node.js is not yet supported")},Xt.prototype._signalBegin=function(){var t=this;this.sketch&&"function"==typeof this.sketch.begin&&this._wrapContextScale(function(e){return t.sketch.begin(e)})},Xt.prototype._signalEnd=function(){var t=this;this.sketch&&"function"==typeof this.sketch.end&&this._wrapContextScale(function(e){return t.sketch.end(e)})},Xt.prototype.endRecord=function(){var t,e=this,n=this.props.recording;null!=this._raf&&h()&&window.cancelAnimationFrame(this._raf),this.props.recording=!1,this.props.deltaTime=0,this.props.playing=!1,n&&this.sketch&&"function"==typeof this.sketch.endRecord&&this._wrapContextScale(function(t){return e.sketch.endRecord(t)}),(void 0===t&&(t={}),It(!1,t)).catch(function(t){console.error(t)})},Xt.prototype._createExportOptions=function(t){return void 0===t&&(t={}),{sequence:t.sequence,save:t.save,fps:this.props.fps,frame:t.sequence?this.props.frame:void 0,file:this.settings.file,name:this.settings.name,prefix:this.settings.prefix,suffix:this.settings.suffix,encoding:this.settings.encoding,encodingQuality:this.settings.encodingQuality,timeStamp:t.timeStamp||Et(new Date,"yyyy.mm.dd-HH.MM.ss"),totalFrames:isFinite(this.props.totalFrames)?Math.max(100,this.props.totalFrames):1e3}},Xt.prototype.exportFrame=function(t){var e=this;if(void 0===t&&(t={}),!this.sketch)return Promise.all([]);"function"==typeof this.sketch.preExport&&this.sketch.preExport();var n=this._createExportOptions(t),i=l(),o=Promise.resolve();if(i&&t.commit&&"function"==typeof i.commit){var s=r({},n),c=i.commit(s);o=a(c)?c:Promise.resolve(c)}return o.then(function(t){return e._doExportFrame(r({},n,{hash:t||""}))}).then(function(t){return 1===t.length?t[0]:t})},Xt.prototype._doExportFrame=function(t){var e=this;void 0===t&&(t={}),this._props.exporting=!0,this.resize();var n=this.render();return void 0===n&&(n=[this.props.canvas]),n=(n=[].concat(n).filter(Boolean)).map(function(e){var n,i="object"==typeof e&&e&&("data"in e||"dataURL"in e),o=i?e.data:e,s=i?r({},e,{data:o}):{data:o};if(u(n=o)&&/canvas/i.test(n.nodeName)&&"function"==typeof n.getContext){var a=function(t,e){void 0===e&&(e={});var n=e.encoding||"image/png";if(!At.includes(n))throw new Error("Invalid canvas encoding "+n);var i=(n.split("/")[1]||"").replace(/jpeg/i,"jpg");return i&&(i=("."+i).toLowerCase()),{extension:i,type:n,dataURL:t.toDataURL(n,e.encodingQuality)}}(o,{encoding:s.encoding||t.encoding,encodingQuality:f(s.encodingQuality,t.encodingQuality,.95)});return Object.assign(s,{dataURL:a.dataURL,extension:a.extension,type:a.type})}return s}),this._props.exporting=!1,this.resize(),this.render(),Promise.all(n.map(function(e,n,i){var o=r({extension:"",prefix:"",suffix:""},t,e,{layer:n,totalLayers:i.length}),s=!1!==t.save&&e.save;for(var a in o.save=!1!==s,o.filename=Lt(o),delete o.encoding,delete o.encodingQuality,o)void 0===o[a]&&delete o[a];var c=Promise.resolve({});if(o.save){var p=o.data;if(o.dataURL)c=Nt(o.dataURL,o);else c=function(t,e){void 0===e&&(e={});var n=Array.isArray(t)?t:[t];return Ht(new window.Blob(n,{type:e.type||""}),e)}(p,o)}return c.then(function(t){return Object.assign({},o,t)})})).then(function(n){var i=n.filter(function(t){return t.save});if(i.length>0){var r,o=i.find(function(t){return t.outputName}),s=i.some(function(t){return t.client}),a=i.some(function(t){return t.stream});r=i.length>1?i.length:o?o.outputName+"/"+i[0].filename:""+i[0].filename;var c="";if(t.sequence)c=isFinite(e.props.totalFrames)?" (frame "+(t.frame+1)+" / "+e.props.totalFrames+")":" (frame "+t.frame+")";else i.length>1&&(c=" files");console.log("%c["+(s?"canvas-sketch-cli":"canvas-sketch")+"]%c "+(a?"Streaming into":"Exported")+" %c"+r+"%c"+c,"color: #8e8e8e;","color: initial;","font-weight: bold;","font-weight: initial;")}return"function"==typeof e.sketch.postExport&&e.sketch.postExport(),n})},Xt.prototype._wrapContextScale=function(t){this._preRender(),t(this.props),this._postRender()},Xt.prototype._preRender=function(){var t=this.props;this.props.gl||!t.context||t.p5?t.p5&&t.p5.scale(t.scaleX/t.pixelRatio,t.scaleY/t.pixelRatio):(t.context.save(),!1!==this.settings.scaleContext&&t.context.scale(t.scaleX,t.scaleY))},Xt.prototype._postRender=function(){var t=this.props;this.props.gl||!t.context||t.p5||t.context.restore(),t.gl&&!1!==this.settings.flush&&!t.p5&&t.gl.flush()},Xt.prototype.tick=function(){this.sketch&&"function"==typeof this.sketch.tick&&(this._preRender(),this.sketch.tick(this.props),this._postRender())},Xt.prototype.render=function(){return this.props.p5?(this._lastRedrawResult=void 0,this.props.p5.redraw(),this._lastRedrawResult):this.submitDrawCall()},Xt.prototype.submitDrawCall=function(){if(this.sketch){var t,e=this.props;return this._preRender(),"function"==typeof this.sketch?t=this.sketch(e):"function"==typeof this.sketch.render&&(t=this.sketch.render(e)),this._postRender(),t}},Xt.prototype.update=function(t){var e=this;void 0===t&&(t={});var n=["animate"];Object.keys(t).forEach(function(t){if(n.indexOf(t)>=0)throw new Error("Sorry, the { "+t+" } option is not yet supported with update().")});var i=this._settings.canvas,r=this._settings.context;for(var o in t){var s=t[o];void 0!==s&&(e._settings[o]=s)}var a=Object.assign({},this._settings,t);if("time"in t&&"frame"in t)throw new Error("You should specify { time } or { frame } but not both");if("time"in t?delete a.frame:"frame"in t&&delete a.time,"duration"in t&&"totalFrames"in t)throw new Error("You should specify { duration } or { totalFrames } but not both");"duration"in t?delete a.totalFrames:"totalFrames"in t&&delete a.duration,"data"in t&&(this._props.data=t.data);var c=this.getTimeProps(a);if(Object.assign(this._props,c),i!==this._settings.canvas||r!==this._settings.context){var p=Vt(this._settings),u=p.context;this.props.canvas=p.canvas,this.props.context=u,this._setupGLKey(),this._appendCanvasIfNeeded()}return t.p5&&"function"!=typeof t.p5&&(this.props.p5=t.p5,this.props.p5.draw=function(){e._isP5Resizing||(e._lastRedrawResult=e.submitDrawCall())}),"playing"in t&&(t.playing?this.play():this.pause()),Ut(this._settings),this.resize(),this.render(),this.props},Xt.prototype.resize=function(){var t=this._getSizeProps(),e=this.settings,n=this.props,i=Jt(n,e);Object.assign(this._props,i);var r=this.props,o=r.pixelRatio,s=r.canvasWidth,a=r.canvasHeight,c=r.styleWidth,p=r.styleHeight,u=this.props.canvas;u&&!1!==e.resizeCanvas&&(n.p5?u.width===s&&u.height===a||(this._isP5Resizing=!0,n.p5.pixelDensity(o),n.p5.resizeCanvas(s/o,a/o,!1),this._isP5Resizing=!1):(u.width!==s&&(u.width=s),u.height!==a&&(u.height=a)),h()&&!1!==e.styleCanvas&&(u.style.width=c+"px",u.style.height=p+"px"));var l=this._getSizeProps(),f=!Mt(t,l);return f&&this._sizeChanged(),f},Xt.prototype._sizeChanged=function(){this.sketch&&"function"==typeof this.sketch.resize&&this.sketch.resize(this.props)},Xt.prototype.animate=function(){if(this.props.playing)if(h()){this._raf=window.requestAnimationFrame(this._animateHandler);var t=s(),e=1e3/this.props.fps,n=t-this._lastTime,i=this.props.duration,r="number"==typeof i&&isFinite(i),o=!0,a=this.settings.playbackRate;"fixed"===a?n=e:"throttle"===a?n>e?this._lastTime=t-=n%e:o=!1:this._lastTime=t;var c=n/1e3,p=this.props.time+c*this.props.timeScale;p<0&&r&&(p=i+p);var u=!1,l=!1;if(r&&p>=i&&(!1!==this.settings.loop?(o=!0,p%=i,l=!0):(o=!1,p=i,u=!0),this._signalEnd()),o){this.props.deltaTime=c,this.props.time=p,this.props.playhead=this._computePlayhead(p,i);var f=this.props.frame;this.props.frame=this._computeCurrentFrame(),l&&this._signalBegin(),f!==this.props.frame&&this.tick(),this.render(),this.props.deltaTime=0}u&&this.pause()}else console.error("[canvas-sketch] WARN: Animation in Node.js is not yet supported")},Xt.prototype.dispatch=function(t){if("function"!=typeof t)throw new Error("must pass function into dispatch()");t(this.props),this.render()},Xt.prototype.mount=function(){this._appendCanvasIfNeeded()},Xt.prototype.unmount=function(){h()&&(window.removeEventListener("resize",this._resizeHandler),this._keyboardShortcuts.detach()),this.props.canvas.parentElement&&this.props.canvas.parentElement.removeChild(this.props.canvas)},Xt.prototype._appendCanvasIfNeeded=function(){h()&&(!1!==this.settings.parent&&this.props.canvas&&!this.props.canvas.parentElement&&(this.settings.parent||document.body).appendChild(this.props.canvas))},Xt.prototype._setupGLKey=function(){var t;this.props.context&&("function"==typeof(t=this.props.context).clear&&"function"==typeof t.clearColor&&"function"==typeof t.bufferData?this._props.gl=this.props.context:delete this._props.gl)},Xt.prototype.getTimeProps=function(t){void 0===t&&(t={});var e=t.duration,n=t.totalFrames,i=f(t.timeScale,1),r=f(t.fps,24),o="number"==typeof e&&isFinite(e),s="number"==typeof n&&isFinite(n),a=o?Math.floor(r*e):void 0,c=s?n/r:void 0;if(o&&s&&a!==n)throw new Error("You should specify either duration or totalFrames, but not both. Or, they must match exactly.");void 0===t.dimensions&&void 0!==t.units&&console.warn("You've specified a { units } setting but no { dimension }, so the units will be ignored."),n=f(n,a,Infinity),e=f(e,c,Infinity);var p=t.time,u=t.frame,l="number"==typeof p&&isFinite(p),h="number"==typeof u&&isFinite(u),d=0,m=0,y=0;if(l&&h)throw new Error("You should specify either start frame or time, but not both.");return l?(y=this._computePlayhead(d=p,e),m=this._computeFrame(y,d,n,r)):h&&(y=this._computePlayhead(d=(m=u)/r,e)),{playhead:y,time:d,frame:m,duration:e,totalFrames:n,fps:r,timeScale:i}},Xt.prototype.setup=function(t){var e=this;if(void 0===t&&(t={}),this.sketch)throw new Error("Multiple setup() calls not yet supported.");this._settings=Object.assign({},t,this._settings),Ut(this._settings);var n=Vt(this._settings),i=n.context,r=n.canvas,o=this.getTimeProps(this._settings);this._props=Object.assign({},o,{canvas:r,context:i,deltaTime:0,started:!1,exporting:!1,playing:!1,recording:!1,settings:this.settings,data:this.settings.data,render:function(){return e.render()},togglePlay:function(){return e.togglePlay()},dispatch:function(t){return e.dispatch(t)},tick:function(){return e.tick()},resize:function(){return e.resize()},update:function(t){return e.update(t)},exportFrame:function(t){return e.exportFrame(t)},record:function(){return e.record()},play:function(){return e.play()},pause:function(){return e.pause()},stop:function(){return e.stop()}}),this._setupGLKey(),this.resize()},Xt.prototype.loadAndRun=function(t,e){var n=this;return this.load(t,e).then(function(){return n.run(),n})},Xt.prototype.unload=function(){var t=this;this.pause(),this.sketch&&("function"==typeof this.sketch.unload&&this._wrapContextScale(function(e){return t.sketch.unload(e)}),this._sketch=null)},Xt.prototype.destroy=function(){this.unload(),this.unmount()},Xt.prototype.load=function(t,e){var n=this;if("function"!=typeof t)throw new Error("The function must take in a function as the first parameter. Example:\n  canvasSketcher(() => { ... }, settings)");this.sketch&&this.unload(),void 0!==e&&this.update(e),this._preRender();var i=Promise.resolve();if(this.settings.p5){if(!h())throw new Error("[canvas-sketch] ERROR: Using p5.js in Node.js is not supported");i=new Promise(function(t){var e,i=n.settings.p5;i.p5&&(e=i.preload,i=i.p5);var r=function(i){e&&(i.preload=function(){return e(i)}),i.setup=function(){var e=n.props,r="webgl"===n.settings.context,o=r?i.WEBGL:i.P2D;i.noLoop(),i.pixelDensity(e.pixelRatio),i.createCanvas(e.viewportWidth,e.viewportHeight,o),r&&n.settings.attributes&&i.setAttributes(n.settings.attributes),n.update({p5:i,canvas:i.canvas,context:i._renderer.drawingContext}),t()}};if("function"==typeof i)new i(r);else{if("function"!=typeof window.createCanvas)throw new Error("{ p5 } setting is passed but can't find p5.js in global (window) scope. Maybe you did not create it globally?\nnew p5(); // <-- attaches to global scope");r(window)}})}return i.then(function(){var e=t(n.props);return a(e)||(e=Promise.resolve(e)),e}).then(function(t){return t||(t={}),n._sketch=t,h()&&(n._keyboardShortcuts.attach(),window.addEventListener("resize",n._resizeHandler)),n._postRender(),n._sizeChanged(),n}).catch(function(t){throw console.warn("Could not start sketch, the async loading function rejected with an error:\n    Error: "+t.message),t})},Object.defineProperties(Xt.prototype,te);var ee="hot-id-cache",ne=[];function ie(t,e){if(void 0===e&&(e={}),e.p5){if(e.canvas||e.context&&"string"!=typeof e.context)throw new Error('In { p5 } mode, you can\'t pass your own canvas or context, unless the context is a "webgl" or "2d" string');e=Object.assign({},e,{canvas:!1,context:"string"==typeof e.context&&e.context})}var n,i,r=(n=l())&&n.hot;r&&(i=f(e.id,"$__DEFAULT_CANVAS_SKETCH_ID__$"));var o=r&&"string"==typeof i;o&&ne.includes(i)&&(console.warn("Warning: You have multiple calls to canvasSketch() in --hot mode. You must pass unique { id } strings in settings to enable hot reload across multiple sketches. ",i),o=!1);var s=Promise.resolve();if(o){ne.push(i);var a=function(t){var e=l();if(e)return e[ee]=e[ee]||{},e[ee][t]}(i);if(a){var c=function(){var t,n=(t=a.manager,e.animate?{time:t.props.time}:void 0);return a.manager.destroy(),n};s=a.load.then(c).catch(c)}}return s.then(function(n){var r,s,a,c,p=new Xt;return t?(e=Object.assign({},e,n),p.setup(e),p.mount(),r=p.loadAndRun(t)):r=Promise.resolve(p),o&&(s=i,a={load:r,manager:p},(c=l())&&(c[ee]=c[ee]||{},c[ee][s]=a)),r})}return ie.canvasSketch=ie,ie.PaperSizes=Wt,ie})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=t("../utils/easing"),o=(i=t("../utils/fadeOutOpacity"))&&i.__esModule?i:{default:i};n.default=class{constructor(){this.start=1400,this.finish=this.start+500*Math.random(),this.angle=2*Math.random()*Math.PI,this.offset=Math.random()}draw(t,e){const n=(0,r.easeInOutQuint)((1-e+this.offset)%1);let i=(0,o.default)(n,.5);t.beginPath(),t.strokeStyle=`rgba(255, 255, 255, ${i})`,t.lineWidth=2,t.moveTo(this.start*n,0),t.lineTo(this.finish*n,0),t.stroke()}}},{"../utils/easing":6,"../utils/fadeOutOpacity":7}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=t("../utils/easing");i=t("../utils/fadeOutOpacity");n.default=class{constructor(t,e,n=3){let i,r,o;this.x=t,this.y=e,this.offset=Math.random(),this.verticesCount=3+Math.floor(4*Math.random()),this.verticesCoords=[];for(let t=0;t<this.verticesCount;t++)i=2*t*Math.PI/this.verticesCount+this.offset*Math.PI*2,r=this.x+Math.sin(i)*n,o=this.y+Math.cos(i)*n,this.verticesCoords.push([r,o])}draw(t,e){const n=(0,r.easeInOutQuint)((1-e+this.offset)%1);let i=1;const[o,s]=this.verticesCoords[0];let a=0;if(n>.9){const t=(1-n)/.03;a=t>1?1:t}else a=i=n/.9;t.strokeStyle=`rgba(255, 255, 255, ${a})`,t.beginPath(),t.moveTo(o*i,s*i);for(let e=1;e<this.verticesCoords.length;e++){let[n,r]=this.verticesCoords[e];t.lineTo(n*i,r*i)}t.closePath(),t.stroke()}}},{"../utils/easing":6,"../utils/fadeOutOpacity":7}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=((t,e)=>Array.from({length:e},t))},{}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.easeInOutQuint=void 0;n.easeInOutQuint=(t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t)},{}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=((t,e)=>t<e?t/e:1)},{}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=(({imageUrl:t,precision:e})=>{const n=Array.from(Array(e),()=>new Array(e)),i=document.createElement("canvas");i.width=e,i.height=e,i.style.display="none",document.body.appendChild(i);const r=i.getContext("2d"),o=new Image;return o.src=t,new Promise(t=>{o.onload=function(){r.drawImage(o,0,0,e,e);const{data:i}=r.getImageData(0,0,e,e);let s,a;for(let t=0;t<i.length;t+=4)s=t/4%e,a=Math.floor(t/4/e),n[s][a]=i[t];t(n)}})})},{}],9:[function(t,e,n){(function(t){t.CANVAS_SKETCH_DEFAULT_STORAGE_KEY=window.location.href}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1,9]);
//# sourceMappingURL=index.js.map
